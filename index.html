<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>Hidden Universe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Kalam:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overscroll-behavior: none;
            background-color: #090a0f;
            overflow: hidden;
        }
        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .page-container {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            will-change: opacity;
        }

        #home-bg-video, .story-video {
            position: fixed;
            top: 50%;
            left: 50%;
            min-width: 100%;
            min-height: 100%;
            width: auto;
            height: auto;
            z-index: -1;
            transform: translateX(-50%) translateY(-50%);
            object-fit: cover;
        }
        
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        
        .home-content-fade-out { animation: fadeOut 1s ease-out forwards; }
        .home-content-fade-in { animation: fadeIn 1s ease-in forwards; }

        #portal-container, #particle-container {
            position: absolute;
            inset: 0;
            pointer-events: none;
            z-index: 100;
        }
        #portal-container { z-index: 99; }

        .flower-petal {
            position: absolute;
            will-change: transform, opacity;
            transition: transform 4s cubic-bezier(0.2, 0.7, 0.4, 1), opacity 4s ease-out;
        }

        .spark {
            position: absolute;
            background: #ffc40c;
            border-radius: 50%;
            will-change: transform, opacity;
            box-shadow: 0 0 5px #ffc40c, 0 0 10px #ff8c00, 0 0 15px #ff4500;
            opacity: 0;
        }

        .story-content {
            background-color: rgba(0, 0, 0, 0);
            transition: background-color 0.3s ease-out;
            scroll-snap-type: y mandatory;
            overflow-y: auto;
            height: 100%;
        }
        .story-text-wrapper {
            opacity: 0;
            transition: opacity 1.5s ease-out;
        }
        
        .snap-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 1.5rem;
        }
        
        .story-text-section {
            height: auto;
            min-height: 100vh;
        }

        #loading-page {
            background-color: transparent;
            z-index: 200;
        }
        
        #loading-indicator span {
            animation: fadeIn 2s ease-in-out infinite alternate;
        }
        #loading-indicator span:nth-child(2) { animation-delay: 0.3s; }
        #loading-indicator span:nth-child(3) { animation-delay: 0.6s; }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px 5px rgba(255, 235, 59, 0.3); }
            50% { box-shadow: 0 0 30px 10px rgba(255, 235, 59, 0.5); }
        }

        #memory-orb {
            background: radial-gradient(circle at 30% 30%, rgba(255, 235, 59, 0.8), rgba(255, 193, 7, 0.2));
            animation: pulse 3s infinite ease-in-out, float 4s infinite ease-in-out;
            transition: transform 0.8s;
        }
        
        #memory-orb:hover {
            transform: scale(1.1);
            animation-play-state: paused;
        }

        .topic-button {
            opacity: 0;
            transform: scale(0.9);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s;
            pointer-events: none;
        }
        
        body.topics-revealed .topic-button {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
        
        body.topics-revealed #topic-button-1 { transition-delay: 0s; }
        body.topics-revealed #topic-button-2 { transition-delay: 0.1s; }
        body.topics-revealed #topic-button-3 { transition-delay: 0.2s; }

        #topic-buttons-wrapper {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275), margin-bottom 0.7s, margin-top 0.7s;
        }
        body.topics-revealed #topic-buttons-wrapper {
            max-height: 300px; 
            margin-top: 2rem;
            margin-bottom: 2rem;
        }

        body.topics-revealed #memory-orb {
            transform: scale(0.8);
        }
        
        #starry-bg-canvas {
            position: absolute;
            inset: 0;
            z-index: 1;
        }

        #entry-orb {
            background: radial-gradient(circle at 30% 30%, rgba(255, 235, 59, 0.8), rgba(255, 193, 7, 0.2));
            animation: pulse 3s infinite ease-in-out;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #entry-orb:hover {
            transform: scale(1.1);
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-15px);
            }
            60% {
                transform: translateY(-10px);
            }
        }
        .scroll-indicator {
            animation: bounce 2s infinite;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        .scroll-indicator.hidden {
            opacity: 0;
        }

        .fade-in-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-element.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .book-quote {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 1.25rem;
            text-align: center;
            color: #fde68a; /* amber-200 */
            padding: 1rem 0;
            position: relative;
        }
        .book-quote::before, .book-quote::after {
            font-size: 3rem;
            position: absolute;
            color: rgba(253, 230, 138, 0.3);
        }
        .book-quote::before {
            content: '“';
            top: -0.5rem;
            left: -1rem;
        }
        .book-quote::after {
            content: '”';
            bottom: -1.5rem;
            right: -1rem;
        }
        .story-image-container {
            width: 100%;
            margin: 4rem 0;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .story-image {
            width: 100%;
            height: auto;
            object-fit: cover;
        }
    </style>
</head>
<body class="text-white h-screen">

    <div id="loading-page" class="page-container flex flex-col items-center justify-center p-8 text-center">
        <canvas id="starry-bg-canvas"></canvas>
        <div id="loading-indicator" class="relative z-10 text-2xl font-serif text-gray-400">
            <span>Loading</span>
            <span>Hidden Universe</span>
            <span>...</span>
        </div>
        <div id="tap-to-enter-container" class="hidden absolute bottom-[30%] left-1/2 -translate-x-1/2 w-full z-20 flex-col items-center gap-4">
            <button id="entry-orb" class="w-24 h-24 rounded-full shadow-lg border border-yellow-400/50 backdrop-blur-md"></button>
            <p class="text-lg font-serif text-gray-300 mt-4">Tap to Enter HEJE Universe</p>
            <p id="sound-message" class="text-gray-400 text-sm transition-opacity duration-500 flex items-center justify-center gap-2 z-10 mt-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-1.06 1.06A6.976 6.976 0 0 1 12.525 8a6.976 6.976 0 0 1-2.048 4.95l1.06 1.06z"/>
                    <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-1.06 1.06A4.975 4.975 0 0 1 10.525 8a4.975 4.975 0 0 1-1.464 3.536l1.06 1.06z"/>
                    <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.01 3.01 0 0 1 9.025 8 3.01 3.01 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>
                </svg>
                <span>Sound On</span>
            </p>
        </div>
        <p id="disclaimer" class="hidden absolute bottom-4 left-4 right-4 text-xs text-white italic z-10 opacity-0">
            This page is created by HE for HEJE. Access to this website requires permission from either HE or JE. Plz Open in Google Chrome.
        </p>
    </div>

    <!-- Homepage View -->
    <div id="home-page" class="page-container hidden flex-col">
        <video id="home-bg-video" class="video-player-container" loop muted playsinline>
             <source src="https://res.cloudinary.com/dzklkjmiq/video/upload/w_1080,q_auto,f_auto/background_izstkz.mp4" type="video/mp4">
        </video>
        <div id="home-content" class="z-20 w-full h-full flex flex-col items-center">
            <div class="text-center pt-24">
                <h1 id="main-header" class="font-serif text-7xl font-bold text-amber-900 tracking-wider">HEJE</h1>
                <p id="main-subtitle" class="text-amber-900 text-lg italic">As always, and always will.</p>
            </div>
            <div class="flex-grow w-full flex items-start justify-center pt-16">
                <div id="menu-container" class="flex flex-col items-center">
                     <div id="topic-buttons-wrapper" class="flex flex-wrap justify-center gap-4 px-4">
                        <button id="topic-button-1" data-page="story-page-1" class="topic-button w-48 flex items-center justify-center gap-2 bg-white/40 border border-white/50 backdrop-blur-lg text-amber-900 font-bold py-3 px-6 rounded-lg shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
                            <span>Take July21 The Night</span>
                        </button>
                        <button id="topic-button-2" data-page="story-page-2" class="topic-button w-48 flex items-center justify-center gap-2 bg-white/40 border border-white/50 backdrop-blur-lg text-amber-900 font-bold py-3 px-6 rounded-lg shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0 lucide lucide-cloud-hail-icon lucide-cloud-hail"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 14v2"/><path d="M8 14v2"/><path d="M16 20h.01"/><path d="M8 20h.01"/><path d="M12 16v2"/><path d="M12 22h.01"/></svg>
                            <span>I Smell Tokyo CaS</span>
                        </button>
                        <button id="topic-button-3" data-page="story-page-3" class="topic-button w-48 flex items-center justify-center gap-2 bg-white/40 border border-white/50 backdrop-blur-lg text-amber-900 font-bold py-3 px-6 rounded-lg shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0 lucide lucide-flower-icon lucide-flower"><circle cx="12" cy="12" r="3"/><path d="M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"/><path d="M12 7.5V9"/><path d="M7.5 12H9"/><path d="M16.5 12H15"/><path d="M12 16.5V15"/><path d="m8 8 1.88 1.88"/><path d="M14.12 9.88 16 8"/><path d="m8 16 1.88-1.88"/><path d="M14.12 14.12 16 16"/></svg>
                            <span>Big Bang in White</span>
                        </button>
                    </div>
                    <button id="memory-orb" class="w-20 h-20 rounded-full shadow-lg border border-yellow-400/50 backdrop-blur-md"></button>
    
                    <p id="home-disclaimer" class="absolute bottom-4 left-4 right-4 text-center text-xs text-brown-400 italic z-30">Universe found on 19.08.2025</p> 
                </div>
            </div>
        </div>
    </div>
    
    <!-- Story Pages -->
    <div id="story-page-1" class="page-container story-page hidden opacity-0" style="transition: opacity 2s ease-in;">
        <video id="story-video-1" class="story-video" loop muted playsinline>
            <source src="https://res.cloudinary.com/dzklkjmiq/video/upload/w_1080,q_auto,f_auto/v1755314522/TheNightWeMetFinal_lgssjo.mp4" type="video/mp4">
        </video>
        <div class="story-content absolute inset-0 w-full h-full overflow-y-auto no-scrollbar z-10 p-6 text-white">
            <div class="snap-section">
            </div>
            
            <div class="snap-section justify-start pt-24 story-text-section">
                <div class="story-text-wrapper max-w-md mx-auto space-y-8">
                    <h1 class="font-serif text-5xl font-bold leading-tight text-center fade-in-element">Where Time Remembers Us</h1>
                    <p class="text-lg leading-relaxed fade-in-element text-justify">It wasn’t the kind of memory that faded but he never forgot the night they met. It was the kind that clung to him, like a song stuck in his chest. He had looked at her as if he already knew her, and sometime his heart recognized her before his mind did. For hours, they always talked about nothing and everything, until the world outside didn’t matter.</p>
                    <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535249/DSC06979_Original_telbqq.jpg" class="story-image" alt="A memory">
                    </div>
                    <p class="text-lg leading-relaxed fade-in-element text-justify">But life is cruel in its timing.</p>
                    <p class="text-lg leading-relaxed fade-in-element text-justify">In one universe, they found each other too early. In another, too late. Sometimes she was already in love with someone else. Sometimes she wasn’t ready. Sometimes the night ended before it could begin. Yet in every version of reality, he remembered her.</p>
                     
                     <p class="text-lg leading-relaxed fade-in-element text-justify">What haunted him most was the way she changed each time. Sometimes she was wild, chasing the night like it might never come again. Sometimes she was gentle, tired, holding dreams too heavy for her shoulders.</p>
                     
                     <p class="text-lg leading-relaxed fade-in-element text-justify">But always — always — she was her.</p>
                     <p class="text-lg leading-relaxed fade-in-element text-justify">And always, he lost her.</p>
                     
                     <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535243/IMG_9159_kflipg.heic" class="story-image" alt="Another memory">
                    </div>
                     
                    
                    <blockquote class="book-quote fade-in-element">"Every universe gave me a different you, but never the one I could keep."</blockquote>
                   
                   <p class="text-lg leading-relaxed fade-in-element text-justify">He told himself he’d be fine, but the truth was simple: he wanted to go back. Back to that first night, when she looked at him like the universe had finally gotten something right. Back to when they still had everything in front of them.</p>
                   
                     <p class="text-lg leading-relaxed fade-in-element text-justify">But the universe doesn’t give back what it takes. It only leaves echoes, half-remembered smiles, and nights that slip away no matter how tightly you hold them.</p>
                   
                    <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535242/IMG_8235_anr8oc.jpg" class="story-image" alt="Another memory">
                    </div>
                    
                    
                <blockquote class="book-quote fade-in-element">"You were always mine for a night, and gone by morning."</blockquote>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">It didn’t matter the universe, the city, or the version of her he met. Every time it began with the same spark — the way her eyes caught his, like they’d already lived this moment before.</p>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">For a night, the world was theirs.
Her laugh, her touch, the way she leaned in when the silence grew soft — it all belonged to him. He memorized every detail, terrified of forgetting.
</p>

<p class="text-lg leading-relaxed fade-in-element text-justify">But morning was never kind.
By the time the sun rose, she was different. Sometimes a stranger who didn’t recognize him. Sometimes a memory that belonged to someone else. Sometimes just… gone.
And he carried the weight of both — the sweetness of the night and the emptiness of the morning.
</p>

<p class="text-lg leading-relaxed fade-in-element text-justify">He told himself it was enough. That even one night with her, in any universe, was better than a lifetime without. But deep down, he knew the truth:
</p>

<p class="text-lg leading-relaxed fade-in-element text-justify">He wanted a morning where she stayed.
</p>

<p class="text-lg leading-relaxed fade-in-element text-justify">And so he wandered forward, through all the versions of her he would never keep, holding onto one memory: The night we met.</p>

                    
                    
                    <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535246/IMG_6579_egscup.jpg" class="story-image" alt="A final memory">
                    </div>
                    
                    
                    <blockquote class="book-quote fade-in-element">"She looked at him like it was the first time. He looked at her like it was the last."</blockquote>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">As always, and always will</p>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">HEJE Universe</p>
                    
                </div>
            </div>
        </div>
        <button class="back-button absolute top-4 left-4 z-20 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <div class="scroll-indicator absolute bottom-8 left-1/2 -translate-x-1/2 z-20 text-white hidden">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
        </div>
    </div>
    <div id="story-page-2" class="page-container story-page hidden opacity-0" style="transition: opacity 2s ease-in;">
        <video id="story-video-2" class="story-video" loop muted playsinline>
            <source src="https://res.cloudinary.com/dzklkjmiq/video/upload/w_1080,q_auto,f_auto/v1755412468/CASa_thvwpg.mp4" type="video/mp4">
        </video>
        <div class="story-content absolute inset-0 w-full h-full overflow-y-auto no-scrollbar z-10 p-6 text-white">
            <div class="snap-section">
            </div>
             <div class="snap-section justify-start pt-24 story-text-section">
                <div class="story-text-wrapper max-w-md mx-auto space-y-8">
                    <h1 class="font-serif text-5xl font-bold leading-tight text-center fade-in-element">Always and Never</h1>
                    
                    <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535946/cpm35_2024-03-19_152835.293_sn9ygd.jpg" alt="A memory">
                    </div>
                    
                     <blockquote class="book-quote fade-in-element">He Can’t Hate Her, and She Can’t Forget Him.</blockquote>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">He tried.</p>

                    <p class="text-lg leading-relaxed fade-in-element text-justify">He tried to hate her. To build walls, to let time erase the nights, the laughter, the warmth she carried like sunlight. But every memory returned with sharper edges, as if the universe refused to let him go.</p>
                    
                     <p class="text-lg leading-relaxed fade-in-element text-justify">She tried too, in her own way. She told herself he wasn’t worth the ache, that life could move on without him. But at night, when the world fell quiet, she felt it: the ghost of his hand brushing hers, the shadow of his voice in every laugh, the pull of him in every crowded room.</p>
                     
                      <p class="text-lg leading-relaxed fade-in-element text-justify">Every memory returned unbidden — the way her laugh lingered in empty rooms, the way her gaze caught his by accident, the warmth she carried without even knowing it. He couldn’t hate her, not even when she walked away, not even when she gave her love to someone else.</p>
                      
                      
                      
                      <p class="text-lg leading-relaxed fade-in-element text-justify">They moved through life like strangers in the same city — sometimes crossing paths, sometimes feeling the pull without seeing it. And every time, he knew he could never hate her, and she could never truly forget him.</p>
                      
                      <p class="text-lg leading-relaxed fade-in-element text-justify">Some loves aren’t meant to live. They are meant to linger.</p>
                      
                      <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535246/IMG_2786_ejazmo.jpg" class="story-image" alt="Another memory">
                    </div>
                    
                    <blockquote class="book-quote fade-in-element">He Can’t Forget Her, and She Can’t Love Him.</blockquote>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">He remembers every detail.</p>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">The tilt of her head when she laughed. The way her hair fell in the morning light. The way she made him feel like the only person in every universe.</p>
                    
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">She remembers too — but differently. She remembers what it felt like, and she remembers that she can’t feel it again.</p>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">She tried too. She tried to feel what he felt, to let herself care, to open the door to what could have been. But she couldn’t.</p>
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">And yet, he remained, a ghost in her periphery, a shadow she couldn’t touch — and a memory she couldn’t erase.</p>
                    
                     <p class="text-lg leading-relaxed fade-in-element text-justify">He chases her in dreams, in memories, in fleeting moments that brush against reality. She turns away, careful not to let the old fire catch.</p>
                    
                    
                
                    <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535243/cpm35_2024-10-01_165114.563_lgagv3.jpg">
                    </div>
                    
                    
                     <blockquote class="book-quote fade-in-element">The timing was never right — even their smiles missed each other. And, some hearts are forever mismatched</blockquote>
                     
                      <p class="text-lg leading-relaxed fade-in-element text-justify">And so they exist in parallel — he haunted, she guarded. A love that neither lives nor dies, because he can’t forget her, and she can’t love him.</p>
                    
                    
                </div>
            </div>
        </div>
      <button class="back-button absolute top-4 left-4 z-20 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        <div class="scroll-indicator absolute bottom-8 left-1/2 -translate-x-1/2 z-20 text-white hidden">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
        </div>
    </div>
    
    <div id="story-page-3" class="page-container story-page hidden opacity-0" style="transition: opacity 2s ease-in;">
        <video id="story-video-3" class="story-video" loop muted playsinline>
            <source src="https://res.cloudinary.com/dzklkjmiq/video/upload/w_1080,q_auto,f_auto/v1755337561/Beautiful_In_WhiteFinal_ptcrto.mp4" type="video/mp4">
        </video>
        <div class="story-content absolute inset-0 w-full h-full overflow-y-auto no-scrollbar z-10 p-6 text-white">
            <div class="snap-section">
            </div>
            <div class="snap-section justify-start pt-24 story-text-section">
                <div class="story-text-wrapper max-w-md mx-auto space-y-8">
                    
                    <h1 class="font-serif text-5xl font-bold leading-tight text-center fade-in-element">Forever in Him</h1>
                    
                         <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755534381/IMG_0954_2_xg9hbb.heic" class="story-image" alt="Another memory">
                    </div>
                    
                       <blockquote class="book-quote fade-in-element">He met her in every possible world.</blockquote>
                       
                       
                    
                    <p class="text-lg leading-relaxed fade-in-element text-justify">He can still hear her laugh, even though it’s been years.He can still feel her hand in his, even though she’s not there.The world moves on around him, people come and go, but she remains — a quiet echo in the corners of his heart.</p>
                    
                      <p class="text-lg leading-relaxed fade-in-element text-justify">It wasn’t just love; it was everything. Every stolen smile, every secret shared in the dark, every morning where the sunlight fell just right on her face — he carries it all, stitched into him like a permanent melody.</p>
                      
                      <p class="text-lg leading-relaxed fade-in-element text-justify">Sometimes he catches himself smiling at a memory no one else could see. Sometimes he finds her in the songs he listens to, in the streets he walks, in the quiet of his room at night.“You’re gonna live forever in me,” he whispers, because he knows it’s true. She shaped him. She stayed. She’s part of him, and she always will be.</p>

                     <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535244/IMG_1698_xxsaal.jpg" class="story-image" alt="Another memory">
                    </div>

                        <p class="text-lg leading-relaxed fade-in-element text-justify">Even if the world forgets. Even if she moves on. Even if life separates them.</p>
  
                         <p class="text-lg leading-relaxed fade-in-element text-justify">Some loves don’t fade. Some hearts keep a piece of another forever.</p>
   
                           <p class="text-lg leading-relaxed fade-in-element text-justify">Some loves don’t fade. Some hearts keep a piece of another forever.</p>
     
                          <blockquote class="book-quote fade-in-element">Every version of her was different — yet every version of her belonged to him for a moment.</blockquote>
     
     
                         <p class="text-lg leading-relaxed fade-in-element text-justify">In each universe, their nights together were fleeting. She left. She moved on. Life carried her elsewhere.But for him, she never left.</p>

                          <p class="text-lg leading-relaxed fade-in-element text-justify">Every laugh, every glance, every whisper of her voice was stitched into his soul. He carried them all — the girl who smiled like sunlight, the woman who held her sadness close, the one who disappeared before morning.</p>
 
                          <p class="text-lg leading-relaxed fade-in-element text-justify">No matter how far she went, no matter how many nights passed, no matter how many universes tried to separate them… it’s be as always, and always will.</p>
  
                         <div class="story-image-container fade-in-element">
                        <img src="https://res.cloudinary.com/dzklkjmiq/image/upload/v1755535243/IMG_1295_chznoo.jpg" alt="A memory">
                        </div>
  
                          <p class="text-lg leading-relaxed fade-in-element text-justify">Thanks for visit the hidden universe</p>
 
                
                    </div>
                
                </div>
                
            </div>
            <button class="back-button absolute top-4 left-4 z-20 bg-black bg-opacity-50 text-white p-3 rounded-full hover:bg-opacity-75 transition">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>
        </div> 
        
        <div class="scroll-indicator absolute bottom-8 left-1/2 -translate-x-1/2 z-20 text-white hidden">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
        </div>
        
    </div>

    <div id="portal-container"></div>
    <div id="particle-container"></div>

    <script>
    window.addEventListener('load', () => {
        const loadingPage = document.getElementById('loading-page');
        const homePage = document.getElementById('home-page');
        const homeContent = document.getElementById('home-content');
        const particleContainer = document.getElementById('particle-container');
        const portalContainer = document.getElementById('portal-container');
        const homeBgVideo = document.getElementById('home-bg-video');
        const memoryOrb = document.getElementById('memory-orb');
        const entryOrb = document.getElementById('entry-orb');

        const PETAL_COUNT = 50;
        const PORTAL_SPARK_COUNT = 150;
        const animationDuration = 4000;

        let lastClickedButtonRect = null;
        let activeStoryPageId = null;
        let portalAnimationId = null;

        const petalSVG = `<svg viewBox="0 0 50 50" style="overflow: visible;"><g fill="currentColor"><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(0 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(45 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(90 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(135 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(180 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(225 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(270 25 25) scale(0.5 1.2) translate(0 -10)"/><path d="M25 18 A 12 12 0 0 1 25 42 A 12 12 0 0 1 25 18 Z" transform="rotate(315 25 25) scale(0.5 1.2) translate(0 -10)"/></g><circle cx="25" cy="25" r="7" fill="#FFD700"/></svg>`;
        const petalColors = ['#FFFFFF', '#F5F5F5', '#FAFAFA'];

        // --- Entry Logic ---
        const loadingIndicator = document.getElementById('loading-indicator');
        const tapContainer = document.getElementById('tap-to-enter-container');
        const disclaimer = document.getElementById('disclaimer');
        const soundMessage = document.getElementById('sound-message');
        const starryCanvas = document.getElementById('starry-bg-canvas');
        const starryCtx = starryCanvas.getContext('2d');
        let hasEntered = false;

        function resizeStarryCanvas() {
            starryCanvas.width = window.innerWidth;
            starryCanvas.height = window.innerHeight;
        }

        function drawStarryBackground() {
            starryCtx.fillStyle = '#090a0f';
            starryCtx.fillRect(0, 0, starryCanvas.width, starryCanvas.height);
            starryCtx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            for (let i = 0; i < 1000; i++) {
                const x = Math.random() * starryCanvas.width;
                const y = Math.random() * starryCanvas.height;
                const radius = Math.random() * 1.2;
                starryCtx.beginPath();
                starryCtx.arc(x, y, radius, 0, Math.PI * 2);
                starryCtx.fill();
            }
        }
        
        resizeStarryCanvas();
        drawStarryBackground();
        window.addEventListener('resize', () => {
             resizeStarryCanvas();
             drawStarryBackground();
        });

        setTimeout(() => {
            loadingIndicator.style.display = 'none';
            tapContainer.classList.remove('hidden');
            tapContainer.classList.add('flex');
            soundMessage.classList.remove('hidden');
            disclaimer.classList.remove('hidden');
            setTimeout(() => {
                soundMessage.style.opacity = '1';
                disclaimer.style.opacity = '1';
            }, 50);
        }, 1500);
        
        entryOrb.addEventListener('click', enterHomepage);
        memoryOrb.addEventListener('click', revealTopics);

        function enterHomepage() {
            if (hasEntered) return;
            hasEntered = true;
            triggerHapticFeedback();
            
            const orbRect = entryOrb.getBoundingClientRect();
            animatePortal(orbRect, 'opening');

            const elementsToFade = [tapContainer, disclaimer, soundMessage];
            elementsToFade.forEach(el => {
                el.style.transition = 'opacity 0.5s ease-out';
                el.style.opacity = '0';
            });

            setTimeout(() => {
                starryCanvas.style.opacity = '0';
                
                homePage.classList.remove('hidden');
                document.body.classList.add('entered');
                
                homeBgVideo.muted = false;
                homeBgVideo.volume = 0;
                const playPromise = homeBgVideo.play();

                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        let currentVolume = 0;
                        const fadeAudio = setInterval(() => {
                            if (currentVolume < 1) {
                                currentVolume += 0.05;
                                homeBgVideo.volume = Math.min(currentVolume, 1);
                            } else {
                                clearInterval(fadeAudio);
                            }
                        }, 75);
                    }).catch(error => {
                        console.log("Autoplay with sound failed, playing muted as fallback.", error);
                        homeBgVideo.muted = true;
                        homeBgVideo.play();
                    });
                }

                setTimeout(() => {
                    loadingPage.style.display = 'none';
                }, 1000);
            }, 500);
        }

        function triggerHapticFeedback() {
            if (navigator.vibrate) navigator.vibrate(50);
        }
        
        function revealTopics() {
            triggerHapticFeedback();
            document.body.classList.toggle('topics-revealed');
        }

        function animatePortal(origin, direction) {
            if (portalAnimationId) cancelAnimationFrame(portalAnimationId);
            portalContainer.innerHTML = '';
            
            const sparks = [];
            for (let i = 0; i < PORTAL_SPARK_COUNT; i++) {
                const spark = document.createElement('div');
                spark.classList.add('spark');
                portalContainer.appendChild(spark);
                sparks.push({
                    el: spark,
                    angle: Math.random() * Math.PI * 2,
                    speed: Math.random() * 0.02 + 0.01,
                    radius: direction === 'opening' ? 0 : (Math.max(window.innerWidth, window.innerHeight) * 1.5),
                    life: 1,
                    size: Math.random() * 3 + 1,
                });
            }

            let startTime = null;
            const duration = 2500;

            function frame(currentTime) {
                if (!startTime) startTime = currentTime;
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                sparks.forEach(s => {
                    s.angle += s.speed;
                    
                    if (direction === 'opening') {
                        const expansionFactor = Math.pow(progress, 2);
                        s.radius = expansionFactor * (origin.width / 1.5 + s.speed * 8000);
                        s.life = 1 - progress;
                    } else { 
                        const targetRadius = 0;
                        s.radius -= (s.radius - targetRadius) * 0.05;
                        s.life = progress;
                    }

                    const x = origin.left + origin.width / 2 + Math.cos(s.angle) * s.radius;
                    const y = origin.top + origin.height / 2 + Math.sin(s.angle) * s.radius;

                    s.el.style.width = `${s.size}px`;
                    s.el.style.height = `${s.size}px`;
                    s.el.style.transform = `translate(${x}px, ${y}px)`;
                    s.el.style.opacity = s.life;
                });

                if (progress < 1) {
                    portalAnimationId = requestAnimationFrame(frame);
                } else {
                    portalContainer.innerHTML = '';
                }
            }
            portalAnimationId = requestAnimationFrame(frame);
        }

        function createPetals(originRect, direction = 'out') {
            particleContainer.innerHTML = '';
            for (let i = 0; i < PETAL_COUNT; i++) {
                const p = document.createElement('div');
                p.classList.add('flower-petal');
                p.innerHTML = petalSVG;
                const size = Math.random() * 20 + 10;
                p.style.width = `${size}px`;
                p.style.height = `${size}px`;
                p.style.color = petalColors[Math.floor(Math.random() * petalColors.length)];
                p.style.transition = `transform ${animationDuration / 1000}s cubic-bezier(0.2, 0.7, 0.4, 1), opacity ${animationDuration / 1000}s ease-out`;

                if (direction === 'out') {
                    const startX = originRect.left + Math.random() * originRect.width;
                    const startY = originRect.top + Math.random() * originRect.height;
                    p.style.transform = `translate(${startX}px, ${startY}px) rotate(0deg)`;
                    p.style.opacity = '1';
                } else {
                    const angle = Math.random() * Math.PI * 2;
                    const radius = Math.max(window.innerWidth, window.innerHeight);
                    const startX = window.innerWidth / 2 + Math.cos(angle) * radius;
                    const startY = window.innerHeight / 2 + Math.sin(angle) * radius;
                    p.style.transform = `translate(${startX}px, ${startY}px) rotate(${Math.random() * 360}deg)`;
                    p.style.opacity = '0';
                }
                particleContainer.appendChild(p);
            }
        }

        function animatePetals(originRect, direction = 'out') {
            const petals = particleContainer.children;
            for (let p of petals) {
                if (direction === 'out') {
                    const angle = Math.random() * Math.PI * 2;
                    const radius = Math.random() * Math.max(window.innerWidth, window.innerHeight) * 1.5;
                    const endX = window.innerWidth / 2 + Math.cos(angle) * radius;
                    const endY = window.innerHeight / 2 + Math.sin(angle) * radius;
                    const endRotation = Math.random() * 720 - 360;
                    
                    requestAnimationFrame(() => {
                        p.style.transform = `translate(${endX}px, ${endY}px) rotate(${endRotation}deg)`;
                        p.style.opacity = '0';
                    });
                } else {
                    const endX = originRect.left + Math.random() * originRect.width;
                    const endY = originRect.top + Math.random() * originRect.height;
                    
                    requestAnimationFrame(() => {
                        p.style.transform = `translate(${endX}px, ${endY}px) rotate(0deg)`;
                        p.style.opacity = '1';
                    });
                }
            }
        }

        function handleStoryScroll(event) {
    const target = event.target;
    // MODIFIED: Removed one .parentElement
    const scrollIndicator = target.parentElement.querySelector('.scroll-indicator'); 
    if (target.scrollTop > 20) {
        if (scrollIndicator) scrollIndicator.classList.add('hidden');
    } else {
        if (scrollIndicator) scrollIndicator.classList.remove('hidden');
    }
}

        function showStoryPage(buttonElement, pageId) {
            triggerHapticFeedback();
            lastClickedButtonRect = buttonElement.getBoundingClientRect();
            activeStoryPageId = pageId;

            const storyPage = document.getElementById(pageId);
            const storyContent = storyPage.querySelector('.story-content');
            const video = storyPage.querySelector('.story-video');
            const scrollIndicator = storyPage.querySelector('.scroll-indicator');
            const storyTextSection = storyPage.querySelector('.story-text-section');
            const textWrapper = storyPage.querySelector('.story-text-wrapper');

            homeBgVideo.pause();
            animatePortal(lastClickedButtonRect, 'opening');
            
            homeContent.classList.add('home-content-fade-out');
            
            setTimeout(() => {
                createPetals(lastClickedButtonRect, 'out');
                animatePetals(lastClickedButtonRect, 'out');
            }, 200);
            
            storyPage.classList.remove('hidden');
            setTimeout(() => {
                storyPage.style.opacity = '1';
                
                setTimeout(() => {
                    if (scrollIndicator) scrollIndicator.classList.remove('hidden');
                }, 65000);

                video.muted = false;
                const playPromise = video.play();
                if (playPromise) {
                    playPromise.catch(e => {
                        console.log("Autoplay with sound failed, playing muted.", e);
                        video.muted = true;
                        video.play();
                    });
                }
                storyContent.addEventListener('scroll', handleStoryScroll);

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            storyContent.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
                            textWrapper.style.opacity = '1';
                        } else {
                            storyContent.style.backgroundColor = 'rgba(0, 0, 0, 0)';
                            textWrapper.style.opacity = '0';
                        }
                    });
                }, {
                    threshold: 0.1
                });

                observer.observe(storyTextSection);
            }, 1200);

            setTimeout(() => {
                homePage.classList.add('hidden');
                particleContainer.innerHTML = '';
            }, animationDuration);
        }

        function showHomePage() {
            triggerHapticFeedback();
            const rect = lastClickedButtonRect || { top: window.innerHeight / 2, left: window.innerWidth / 2, width: 0, height: 0 };
            
            const storyPage = document.getElementById(activeStoryPageId);
            const storyContent = storyPage.querySelector('.story-content');
            const video = storyPage.querySelector('.story-video');
            const textWrapper = storyPage.querySelector('.story-text-wrapper');

            video.pause();
            animatePortal(rect, 'closing');
            createPetals(rect, 'in');
            animatePetals(rect, 'in');

            storyPage.style.opacity = '0';
            
            storyContent.removeEventListener('scroll', handleStoryScroll);
            
            setTimeout(() => {
                storyContent.style.backgroundColor = 'rgba(0, 0, 0, 0)';
                textWrapper.style.opacity = '0';
            }, 500);


            setTimeout(() => {
                homePage.classList.remove('hidden');
                homePage.classList.add('topics-revealed'); 
                homeContent.classList.remove('home-content-fade-out');
                homeContent.classList.add('home-content-fade-in');
                homeBgVideo.play();
            }, 1000);
            
            video.currentTime = 0;
            video.muted = true;

            setTimeout(() => {
                storyPage.classList.add('hidden');
                particleContainer.innerHTML = '';
                homeContent.classList.remove('home-content-fade-in');
            }, animationDuration);
        }

        // --- Programmatic Event Listeners ---
        document.querySelectorAll('.topic-button').forEach(button => {
            button.addEventListener('click', () => showStoryPage(button, button.dataset.page));
        });

        document.querySelectorAll('.back-button').forEach(button => {
            button.addEventListener('click', showHomePage);
        });

        // --- Seamless Video Looping ---
        document.querySelectorAll('video').forEach(video => {
            video.addEventListener('timeupdate', function() {
                const buffer = 0.4;
                if (this.duration && (this.duration - this.currentTime <= buffer)) {
                    this.currentTime = 0;
                    this.play();
                }
            });
        });
        
        // Intersection Observer for fade-in effect
        const fadeInElements = document.querySelectorAll('.fade-in-element');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, {
            threshold: 0.1
        });

        fadeInElements.forEach(el => {
            observer.observe(el);
        });
    });
    </script>

</body>
</html>
